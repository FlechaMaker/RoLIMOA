{
  "contest_info": {
    "name": "春ロボコン2022"
  },
  "rule": {
    "task_objects": [
      {
        "id": "A_yellow_in",
        "description": "A.黄色（中）",
        "initialValue": 0,
        "min": 0,
        "max": 7
      },
      {
        "id": "B_yellow_on",
        "description": "B.黄色（裏）",
        "initialValue": 0,
        "min": 0,
        "max": 7
      },
      {
        "id": "C1_red_in",
        "description": "C1.赤色（中）",
        "initialValue": 0,
        "min": 0,
        "max": 7
      },
      {
        "id": "D1_red_on",
        "description": "D1.赤色（裏）",
        "initialValue": 0,
        "min": 0,
        "max": 7
      },
      {
        "id": "C2_blue_in",
        "description": "C2.青色（中）",
        "initialValue": 0,
        "min": 0,
        "max": 7
      },
      {
        "id": "D2_blue_on",
        "description": "D2.青色（裏）",
        "initialValue": 0,
        "min": 0,
        "max": 7
      },
      {
        "id": "E_ball_in",
        "description": "E.思い出（中）",
        "initialValue": 0,
        "min": 0,
        "max": 6
      },
      {
        "id": "F_ball_on",
        "description": "F.思い出（裏）",
        "initialValue": 0,
        "min": 0,
        "max": 6
      },
      {
        "id": "violation",
        "description": "違反",
        "initialValue": 0,
        "min": 0
      }
    ],
    "score": {
      "format": "formulaExpression",
      "expression": {
        "operator": "sum",
        "operands": [
          {
            "//": {
              "record": "1_basic_score",
              "comment": ""
            },
            "operator": "sum",
            "operands": [
              {
                "operator": "prod",
                "operands": [
                  {
                    "value": {
                      "type": "taskObject",
                      "ref": "A_yellow_in"
                    }
                  },
                  {
                    "value": {
                      "const": 10
                    }
                  }
                ]
              },
              {
                "operator": "prod",
                "operands": [
                  {
                    "value": {
                      "type": "taskObject",
                      "ref": "B_yellow_on"
                    }
                  },
                  {
                    "value": {
                      "const": 15
                    }
                  }
                ]
              },
              {
                "operator": "prod",
                "operands": [
                  {
                    "value": {
                      "type": "taskObject",
                      "ref": "C1_red_in"
                    }
                  },
                  {
                    "value": {
                      "const": 15
                    }
                  }
                ]
              },
              {
                "operator": "prod",
                "operands": [
                  {
                    "value": {
                      "type": "taskObject",
                      "ref": "D1_red_on"
                    }
                  },
                  {
                    "value": {
                      "const": 30
                    }
                  }
                ]
              },
              {
                "operator": "prod",
                "operands": [
                  {
                    "value": {
                      "type": "taskObject",
                      "ref": "C2_blue_in"
                    }
                  },
                  {
                    "value": {
                      "const": 15
                    }
                  }
                ]
              },
              {
                "operator": "prod",
                "operands": [
                  {
                    "value": {
                      "type": "taskObject",
                      "ref": "D2_blue_on"
                    }
                  },
                  {
                    "value": {
                      "const": 30
                    }
                  }
                ]
              },
              {
                "operator": "prod",
                "operands": [
                  {
                    "value": {
                      "type": "taskObject",
                      "ref": "E_ball_in"
                    }
                  },
                  {
                    "value": {
                      "const": 30
                    }
                  }
                ]
              },
              {
                "operator": "prod",
                "operands": [
                  {
                    "value": {
                      "type": "taskObject",
                      "ref": "F_ball_on"
                    }
                  },
                  {
                    "value": {
                      "const": 60
                    }
                  }
                ]
              }
            ]
          },
          {
            "operator": "prod",
            "operands": [
              {
                "//": {
                  "record": "2_box_count_bonus",
                  "comment": ""
                },
                "operator": "sum",
                "operands": [
                  {
                    "operator": "prod",
                    "operands": [
                      {
                        "operator": "le",
                        "operands": [
                          {
                            "value": {
                              "const": 2
                            }
                          },
                          {
                            "//": {
                              "record": "XYZ_matched_count",
                              "comment": ""
                            },
                            "operator": "sum",
                            "operands": [
                              {
                                "//": "黄色の生活用品が入っている",
                                "operator": "or",
                                "operands": [
                                  {
                                    "value": {
                                      "type": "taskObject",
                                      "ref": "A_yellow_in"
                                    }
                                  },
                                  {
                                    "value": {
                                      "type": "taskObject",
                                      "ref": "B_yellow_on"
                                    }
                                  }
                                ]
                              },
                              {
                                "//": "赤色の生活用品が入っている",
                                "operator": "or",
                                "operands": [
                                  {
                                    "value": {
                                      "type": "taskObject",
                                      "ref": "C1_red_in"
                                    }
                                  },
                                  {
                                    "value": {
                                      "type": "taskObject",
                                      "ref": "D1_red_on"
                                    }
                                  }
                                ]
                              },
                              {
                                "//": "黄色の生活用品が入っている",
                                "operator": "or",
                                "operands": [
                                  {
                                    "value": {
                                      "type": "taskObject",
                                      "ref": "C2_blue_in"
                                    }
                                  },
                                  {
                                    "value": {
                                      "type": "taskObject",
                                      "ref": "D2_blue_on"
                                    }
                                  }
                                ]
                              },
                              {
                                "//": "思い出の品が入っている",
                                "operator": "or",
                                "operands": [
                                  {
                                    "value": {
                                      "type": "taskObject",
                                      "ref": "E_ball_in"
                                    }
                                  },
                                  {
                                    "value": {
                                      "type": "taskObject",
                                      "ref": "F_ball_on"
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "value": {
                          "const": 20
                        }
                      }
                    ]
                  },
                  {
                    "operator": "prod",
                    "operands": [
                      {
                        "operator": "le",
                        "operands": [
                          {
                            "value": {
                              "const": 3
                            }
                          },
                          {
                            "value": {
                              "type": "refRecord",
                              "ref": "XYZ_matched_count"
                            }
                          }
                        ]
                      },
                      {
                        "value": {
                          "const": 40
                        }
                      }
                    ]
                  },
                  {
                    "operator": "prod",
                    "operands": [
                      {
                        "operator": "le",
                        "operands": [
                          {
                            "value": {
                              "const": 4
                            }
                          },
                          {
                            "value": {
                              "type": "refRecord",
                              "ref": "XYZ_matched_count"
                            }
                          }
                        ]
                      },
                      {
                        "value": {
                          "const": 60
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "//": {
                  "record": "3_time_bonus_coefficient",
                  "comment": ""
                },
                "operator": "match",
                "operands": [
                  {
                    "operator": "case",
                    "operands": [
                      {
                        "operator": "le",
                        "operands": [
                          {
                            "value": {
                              "type": "matchStatus",
                              "ref": "elapsedTime"
                            }
                          },
                          {
                            "value": {
                              "const": 45
                            }
                          }
                        ]
                      },
                      {
                        "value": {
                          "const": 2.5
                        }
                      }
                    ]
                  },
                  {
                    "operator": "case",
                    "operands": [
                      {
                        "operator": "le",
                        "operands": [
                          {
                            "value": {
                              "type": "matchStatus",
                              "ref": "elapsedTime"
                            }
                          },
                          {
                            "value": {
                              "const": 90
                            }
                          }
                        ]
                      },
                      {
                        "value": {
                          "const": 2.0
                        }
                      }
                    ]
                  },
                  {
                    "operator": "case",
                    "operands": [
                      {
                        "operator": "le",
                        "operands": [
                          {
                            "value": {
                              "type": "matchStatus",
                              "ref": "elapsedTime"
                            }
                          },
                          {
                            "value": {
                              "const": 135
                            }
                          }
                        ]
                      },
                      {
                        "value": {
                          "const": 1.5
                        }
                      }
                    ]
                  },
                  {
                    "operator": "default",
                    "operands": [
                      {
                        "value": {
                          "const": 1.0
                        }
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      }
    },
    "vgoal": {
      "name": "準備万端",
      "condition": {
        "type": "alwaysOk"
      }
    }
  },
  "time_progress": [
    {
      "id": "setting_ready",
      "type": "ready",
      "description": "セッティングタイム"
    },
    {
      "id": "setting",
      "type": "count",
      "time": 60,
      "description": "セッティングタイム",
      "style": {
        "timerFormat": "m:ss",
        "timerType": "countup"
      }
    },
    {
      "id": "match_ready",
      "type": "ready",
      "description": "試合前"
    },
    {
      "id": "match_countdown",
      "type": "count",
      "time": 5,
      "description": "",
      "isAutoTransition": true,
      "style": {
        "timerFormat": "s",
        "timerType": "countdown"
      },
      "custom": [
        {
          "elapsedTime": 2,
          "sound": "tone_440hz_500ms.mp3"
        },
        {
          "elapsedTime": 3,
          "sound": "tone_440hz_500ms.mp3"
        },
        {
          "elapsedTime": 4,
          "sound": "tone_440hz_500ms.mp3"
        }
      ]
    },
    {
      "id": "match",
      "type": "count",
      "time": 180,
      "description": "競技中",
      "style": {
        "timerFormat": "m:ss",
        "timerType": "countup"
      },
      "custom": [
        {
          "elapsedTime": 0,
          "displayText": "GO",
          "sound": "tone_880hz_1000ms.mp3"  
        },
        {
          "elapsedTime": 177,
          "sound": "tone_440hz_500ms.mp3"
        },
        {
          "elapsedTime": 178,
          "sound": "tone_440hz_500ms.mp3"
        },
        {
          "elapsedTime": 179,
          "sound": "tone_440hz_500ms.mp3"
        },
        {
          "elapsedTime": 180,
          "sound": "tone_880hz_1000ms.mp3"  
        }
      ]
    },
    {
      "id": "match_finish",
      "type": "ready",
      "description": "試合終了",
      "custom": [
        {
          "elapsedTime": 0,
          "displayText": "FINISH"
        }
      ]
    }
  ],
  "teams_info": [
    {
      "name": "ホットココアチーム",
      "school": "ラビット大学",
      "short": "ホットココア（ラビ大）"
    },
    {
      "name": "カプチーノチーム",
      "school": "ラビット大学",
      "short": "カプチーノ（ラビ大）"
    },
    {
      "name": "宇治抹茶チーム",
      "school": "うさぎ大学",
      "short": "宇治抹茶（うさぎ大）"
    },
    {
      "name": "君のためなら寝坊する",
      "school": "うさぎ大学",
      "short": "君のためなら寝坊（うさぎ大）"
    }
  ]
}